# Backend CI Scripts

GitHub Actionsã®CIã‚¨ãƒ©ãƒ¼ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§äº‹å‰ãƒã‚§ãƒƒã‚¯ãƒ»ä¿®æ­£ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆé›†ã§ã™ã€‚

## ğŸ“‹ åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### 1. `fix-ci-issues.sh` - CIå•é¡Œä¿®æ­£
```bash
./scripts/fix-ci-issues.sh
```
**ç”¨é€”**: GitHub Actionsã®CIã‚¨ãƒ©ãƒ¼ã‚’è‡ªå‹•ä¿®æ­£
- ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¿®æ­£
- ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤
- æ¨©é™è¨­å®šä¿®æ­£
- ãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ

### 2. `quick-check.sh` - åŸºæœ¬ãƒã‚§ãƒƒã‚¯
```bash
./scripts/quick-check.sh
```
**ç”¨é€”**: é«˜é€ŸãªåŸºæœ¬ãƒã‚§ãƒƒã‚¯ï¼ˆ2-3åˆ†ï¼‰
- ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç¢ºèª
- å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒã‚§ãƒƒã‚¯

### 3. `check-backend-ci.sh` - å®Œå…¨CIãƒã‚§ãƒƒã‚¯
```bash
./scripts/check-backend-ci.sh
```
**ç”¨é€”**: GitHub Actionsã¨åŒç­‰ã®å®Œå…¨ãƒã‚§ãƒƒã‚¯ï¼ˆ10-15åˆ†ï¼‰
- å…¨ã¦ã®ãƒ“ãƒ«ãƒ‰æ®µéšã‚’å®Ÿè¡Œ
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³
- ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
- Docker ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ

## ğŸš€ æ¨å¥¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### æ—¥å¸¸é–‹ç™ºæ™‚
```bash
# 1. é–‹ç™ºå¾Œã®åŸºæœ¬ãƒã‚§ãƒƒã‚¯
./scripts/quick-check.sh

# 2. ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹å ´åˆã¯ä¿®æ­£
cd backend && ./mvnw spotless:apply
```

### Pushå‰ã®å®Œå…¨ãƒã‚§ãƒƒã‚¯
```bash
# 1. CIå•é¡Œã‚’äº‹å‰ä¿®æ­£
./scripts/fix-ci-issues.sh

# 2. å®Œå…¨CIãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
./scripts/check-backend-ci.sh

# 3. å•é¡Œãªã‘ã‚Œã°ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥
git add .
git commit -m "æ©Ÿèƒ½è¿½åŠ ãƒ»ä¿®æ­£å†…å®¹"
git push
```

### GitHub Actions CI ã‚¨ãƒ©ãƒ¼è§£æ±º
```bash
# 1. ä¿®æ­£ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
./scripts/fix-ci-issues.sh

# 2. ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Œå…¨ãƒã‚§ãƒƒã‚¯
./scripts/check-backend-ci.sh

# 3. ä¿®æ­£ã‚’ã‚³ãƒŸãƒƒãƒˆ
git add .
git commit -m "CI ã‚¨ãƒ©ãƒ¼ä¿®æ­£"
git push
```

## ğŸ“Š ç”Ÿæˆã•ã‚Œã‚‹ãƒ¬ãƒãƒ¼ãƒˆ

å®Ÿè¡Œå¾Œã€ä»¥ä¸‹ã®ãƒ¬ãƒãƒ¼ãƒˆãŒç”Ÿæˆã•ã‚Œã¾ã™ï¼š
- **ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ**: `backend/target/site/jacoco/index.html`
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒãƒ¼ãƒˆ**: `backend/target/dependency-check/dependency-check-report.html`
- **Checkstyle ãƒ¬ãƒãƒ¼ãƒˆ**: `backend/target/checkstyle-result.xml`

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼

**ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼**
```bash
cd backend && ./mvnw clean compile
```

**ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¨ãƒ©ãƒ¼**
```bash
cd backend && ./mvnw spotless:apply
```

**ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼**
```bash
cd backend && ./mvnw test -Dspring.profiles.active=test
```

**Docker ã‚¨ãƒ©ãƒ¼**
```bash
# Docker ãƒ‡ãƒ¼ãƒ¢ãƒ³èµ·å‹•ç¢ºèª
docker info
```

### æ¨©é™ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆ
```bash
chmod +x scripts/*.sh
```

## ğŸ’¡ Tips

- **æ™‚çŸ­**: `quick-check.sh` ã§æ—¥å¸¸çš„ã«ãƒã‚§ãƒƒã‚¯
- **å®Œå…¨**: `check-backend-ci.sh` ã§ãƒ—ãƒƒã‚·ãƒ¥å‰ç¢ºèª
- **ä¿®æ­£**: `fix-ci-issues.sh` ã§ã‚¨ãƒ©ãƒ¼ä¸€æ‹¬ä¿®æ­£
- **ä¸¦è¡Œ**: è¤‡æ•°ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä¸¦è¡Œå®Ÿè¡Œã‚‚å¯èƒ½